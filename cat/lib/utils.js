function isSub(ext){return"srt"==ext||"ass"==ext||"ssa"==ext}function getSize(size){return size<=0?"":1099511627776<size?(size/=1099511627776).toFixed(2)+"TB":1073741824<size?(size/=1073741824).toFixed(2)+"GB":1048576<size?(size/=1048576).toFixed(2)+"MB":(size/=1024).toFixed(2)+"KB"}function removeExt(text){return-1<text.indexOf(".")?text.substring(0,text.lastIndexOf(".")):text}async function log(str){console.debug(str)}function isVideoFormat(url){return!(-1<url.indexOf("url=http")||-1<url.indexOf(".js")||-1<url.indexOf(".css")||-1<url.indexOf(".html"))&&/http((?!http).){12,}?\.(m3u8|mp4|flv|avi|mkv|rm|wmv|mpg|m4a|mp3)\?.*|http((?!http).){12,}\.(m3u8|mp4|flv|avi|mkv|rm|wmv|mpg|m4a|mp3)|http((?!http).)*?video\/tos*/.test(url)}function jsonParse(input,json){var ua,json=JSON.parse(json),url=json.url;return(url=url.startsWith("//")?"https:"+url:url).startsWith("http")&&(url!==input||isVideoFormat(url))?(input={},0<(ua=json["user-agent"]||"").trim().length&&(input["User-Agent"]=" "+ua),0<(ua=json.referer||"").trim().length&&(input.Referer=" "+ua),{header:input,url:url}):null}function debug(obj){for(var a in obj)"object"==typeof obj[a]?debug(obj[a]):console.debug(a+"="+obj[a])}export{isSub,getSize,removeExt,log,isVideoFormat,jsonParse,debug};